<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Alphabetical File Name Extractor</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    textarea { width: 100%; height: 250px; margin-top: 10px; font-family: monospace; }
    button { margin-top: 10px; margin-right: 10px; }
  </style>
</head>
<body>
  <h2>Alphabetically List File Names (No Extensions)</h2>

  <input type="file" id="folderInput" webkitdirectory multiple />
  <br>
  <button onclick="extractNames()">Extract & Sort</button>
  <button onclick="downloadList()" id="downloadBtn" disabled>Download as .txt</button>

  <textarea id="output" placeholder="Sorted file names will appear here..." readonly></textarea>

  <script>
    let fileNames = [];

    function extractNames() {
      const files = document.getElementById('folderInput').files;
      const output = document.getElementById('output');
      fileNames = [];

      if (!files.length) {
        alert("Please select a folder.");
        return;
      }

      const nameSet = new Set();

      for (let file of files) {
        const fullName = file.name;
        const baseName = fullName.replace(/\.[^/.]+$/, ""); // remove extension
        nameSet.add(baseName);
      }

      fileNames = Array.from(nameSet).sort((a, b) => a.localeCompare(b, undefined, { sensitivity: 'base' }));

      output.value = fileNames.join("\n");
      document.getElementById('downloadBtn').disabled = fileNames.length === 0;
    }

    function downloadList() {
      const blob = new Blob([fileNames.join("\n")], { type: "text/plain" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "sorted_file_names.txt";
      a.click();
    }
  </script>
</body>
</html>
